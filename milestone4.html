<!DOCTYPE HTML>
<!--
	Industrious by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Milestone 4</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">

		<!-- Header -->
			<header id="header">
				<a class="logo" href="index.html"></a>
				<nav>
					<a href="#menu">Menu</a>
				</nav>
			</header>

		<!-- Nav -->
			<nav id="menu">
				<ul class="links">
					<li><a href="index.html">Home</a></li>
					<li><a href="labs.html">Labs</a></li>
					<li><a href="milestones.html">Milestones</a></li>
					<li><a href="logistics.html">Team Logistics</a></li>
					<li><a href="code_repo.html">Code Repo</a></li>
				</ul>
			</nav>

		<!-- Heading -->
			<div id="heading" >
				<h1>Milestone 4: Buckle up!</h1>
			</div>

		<!-- Main -->
			<section id="main" class="wrapper">
				<div class="inner">
					<div class="content">
						<h3>Goals</h3>
							<ul>
								<li>Detect when there are/are not treasures.</li>
								<li>Successfully distinguish between red and blue treasures.</li>
								<li>Robot which can successfully distinguish a square, triangle, and diamond shape.</li>
							</ul>
						<hr />

						<h3>Detecting treasure presence</h3>
						<p>This part was already implemented in <a href="lab4.html">Lab 4</a>. Our solution was to detect when neither blue nor red were predominant on the screen by setting a threshold. This threshold denotes the least amount of pixels of either color that must be present in each frame in order to declare when we've detected a treasure. Please observe in this <a href="https://www.youtube.com/watch?v=DwrKI-9VoqM">video</a> how the background color turns green and the serial monitor outputs "None" when there is no treasure detected.</p>
						<pre><code>
assign px_threshold = 15'd750;
if ((blue_px > red_px) && (blue_px > px_threshold)) begin
			if(firstX+midX2 > midX1+endX + 50) begin
				background <= BLUE;
				shape_n_color <= 3'b101;
			end
			else if( firstX+endX < midX1+midX2)begin
				background <= BLUE;
				shape_n_color <= 3'b111;
			end
			else begin
				background <= BLUE;
				shape_n_color <= 3'b110;
			end
		end
		else if ((blue_px < red_px) && (red_px > px_threshold)) begin
			if(firstX+midX2 > midX1+endX + 40) begin
				background <= RED;
				shape_n_color <= 3'b001;
			end
			else if(firstX+endX < midX1+midX2)begin
				background <= RED;
				shape_n_color <= 3'b011;
			end
			else begin
				background <= RED;
				shape_n_color <= 3'b010;
			end
		end
						</code></pre>
						<p><a href="code_repo.html#milestone4">Click here</a> to see full code for this part</p>
						<hr />

						<h3>Distinguishing red and blue treasures</h3>
						<p>Just as the previous part, this one was covered in <a href="lab4.html">Lab 4</a>. Refer again to this <a href="https://www.youtube.com/watch?v=DwrKI-9VoqM">video</a> to observe how the background turns red or blue depending on the color detected, and it is also output in the serial monitor.</p>
						<hr />

						<h3>Distinguishing colors and shapes</h3>
						<p>This part was the most work and the most fun. Our approach to detecting shapes was an extension of the color detection. We did it in the same code section, instead of using the given image processor module, we built it within the main code.</p>
						<p>The color detection worked the same way. To detect shapes, we mark the position of the first color pixel at the top of the figure, the first near the middle, and the bottom. Then we compared those values, and determined the following cases: </p>
						<ul>
							<li>If (top>middle>bottom) the figure is a triangle.</li>
							<li>If (top=middle=bottom) the figure is a square.</li>
							<li>If ((top=bottom)>middle) the figure is a diamond.</li>
						</ul>
						<p>We expanded the 3-bit shape and color information from Lab 4 to include all 6 posibilities. See the updated Arduino code <a href="code_repo.html#milestone4">here</a>. Below you will find our shape and color detection in action.</p>
						
						<h4>Red Triangle</h4>
						<iframe src="https://www.youtube.com/embed/17FWW0TxkGM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

						<h4>Red Square</h4>
						<iframe src="https://www.youtube.com/embed/MWOyow0-6UA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

						<h4>Red Diamond</h4>
						<iframe src="https://www.youtube.com/embed/bF87QfG15iA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

						<h4>Blue Triangle</h4>
						<iframe src="https://www.youtube.com/embed/AO2KdooxU0E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

						<h4>Blue Square</h4>
						<iframe src="https://www.youtube.com/embed/WxxfO-N1DgI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

						<h4>Blue Diamond</h4>
						<iframe src="https://www.youtube.com/embed/EAWZ8Gp7bSo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

						<ul class="actions">
							<li><a href="#" class="button primary">Back to top</a></li>
						</ul>
					</div>
				</div>
			</section>

		<!-- Footer -->
			<footer id="footer">
				<div class="inner">
					<div class="content">
						<section>
							<h4>Relevant Links</h4>
							<ul class="plain">
								<li><a href="https://github.com/Albrt37/BHC_website"><i class="icon fa-github">&nbsp;</i>Our Github Repository</a></li>
							</ul>
						</section>
					</div>
					<div class="copyright">
						&copy; Black_Hat_Cats. Our shirt size is Medium ;)
					</div>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>